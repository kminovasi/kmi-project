import"./totalInnovatorCategories-c2862f7b.js";import{a as y}from"./chartjs-plugin-autocolors.esm-a8de2b21.js";import{C as b,d as h}from"./chartjs-plugin-datalabels.esm-766c20d8.js";let l=null;function f(e){if(e&&Array.isArray(e.labels)&&Array.isArray(e.data))return{labels:e.labels,data:e.data.map(t=>Number(t)||0)};if(Array.isArray(e)&&e.length&&typeof e[0]=="object"){const t=e.map(o=>String(o.company_name??o.company??"Unknown")),a=e.map(o=>Number(o.total_teams??o.value??0)||0);return{labels:t,data:a}}if(e&&typeof e=="object"){const t=Object.entries(e).map(([a,o])=>[String(a||"Lainnya"),Number(o)||0]);return t.sort((a,o)=>o[1]-a[1]),{labels:t.map(a=>a[0]),data:t.map(a=>a[1])}}return{labels:[],data:[]}}function x(e){const{labels:t,data:a}=f(e),o="chartCanvasTotalTeamCompany",i=document.getElementById(o);if(!i||!t.length)return;const p=i.getContext("2d"),c=t.length,r=c>10;i.style.height=r?Math.max(360,c*30)+"px":"420px";const m=r?Math.max(10,Math.min(20,Math.floor((i.clientHeight||400)/(c*1.6)))):24,d=r?.7:.45,u=r?.8:.7,g=(n,s)=>n.length>s?n.slice(0,s-1)+"â€¦":n;l!=null&&l.destroy&&l.destroy(),l=new b(p,{type:"bar",data:{labels:t.map(String),datasets:[{label:"Jumlah Tim",data:a,barThickness:m,maxBarThickness:m,categoryPercentage:d,barPercentage:u,borderWidth:1}]},options:{indexAxis:r?"y":"x",responsive:!0,maintainAspectRatio:!1,animation:{duration:300},plugins:{autocolors:{mode:"data"},legend:{display:!1},tooltip:{callbacks:{title:n=>n[0]?String(n[0].label):"",label:n=>`Jumlah Tim: ${n.raw}`}},datalabels:{anchor:r?"end":"center",align:r?"right":"center",formatter:n=>n,font:{size:12,weight:"bold"},color:"#000",clamp:!0}},scales:{[r?"x":"y"]:{beginAtZero:!0,ticks:{color:"#000",precision:0},title:{display:!0,text:"Jumlah Tim",color:"#000",font:{weight:"bold"}},grid:{drawBorder:!1}},[r?"y":"x"]:{ticks:{color:"#000",maxRotation:0,autoSkip:!r,callback:(n,s)=>g(t[s]??"",r?32:18)},title:{display:!0,text:"Perusahaan",color:"#000",font:{weight:"bold"}},grid:{drawBorder:!1}}}},plugins:[y,h]})}typeof window<"u"&&(window.renderTotalTeamCompanyChart=x,console.log("[TotalTeamCompanyChart] ready v3"));
