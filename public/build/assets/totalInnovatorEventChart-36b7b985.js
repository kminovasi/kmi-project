import{C as s,r as u,d}from"./chartjs-plugin-datalabels.esm-766c20d8.js";import{a as g}from"./chartjs-plugin-autocolors.esm-a8de2b21.js";s.register(...u,d);function m(t){if(t&&Array.isArray(t.labels)&&Array.isArray(t.data))return{labels:t.labels,data:t.data};const r=Object.entries(t||{}).map(([e,o])=>[typeof e=="string"&&e.trim()||"Lainnya",Number(o)||0]),n={};for(const[e,o]of r)n[e]=(n[e]||0)+o;const a=Object.entries(n).sort((e,o)=>o[1]-e[1]);return{labels:a.map(([e])=>e),data:a.map(([,e])=>e)}}function p(t){return{directorate_name:"Direktorat",group_function_name:"Group Head",department_name:"Departemen",unit_name:"Unit",section_name:"Seksi",sub_section_of:"Sub Seksi"}[t]||t||"Direktorat"}function b(t,r,n){console.group("[TotalInnovatorEventChart] Renderer"),console.log("raw chartData:",t);const{labels:a,data:e}=m(t);console.log("normalized.labels.length:",a.length),console.log("normalized.data.length:",e.length),console.log("top5 preview:",a.slice(0,5).map((i,c)=>[i,e[c]]));const o=document.getElementById(r);if(!o){console.error(`Canvas #${r} tidak ditemukan`),console.groupEnd();return}const l=o.getContext("2d");if(!l){console.error(`Context 2D tidak tersedia untuk #${r}`),console.groupEnd();return}if(a.length===0){console.warn("Tidak ada data untuk ditampilkan."),console.groupEnd();return}console.time("chart_render"),new s(l,{plugins:[g,d],type:"bar",data:{labels:a,datasets:[{label:"Total Inovator",data:e,borderWidth:1,maxBarThickness:40}]},options:{responsive:!0,plugins:{legend:{position:"top",labels:{color:"#000"}},autocolors:{mode:"data"},title:{display:!0,text:`Total Inovator Berdasarkan ${p(n)}`,font:{size:16,weight:"bold"}},datalabels:{display:!0,anchor:"center",align:"center",formatter:i=>i,font:{weight:"bold",size:20},color:"#000"}},scales:{y:{beginAtZero:!0,ticks:{stepSize:2,color:"#000"},title:{display:!0,text:"Jumlah Inovator",font:{size:14,weight:"bold"},color:"#000"}},x:{ticks:{color:"#000"},title:{display:!0,text:"Organisasi",font:{size:14,weight:"bold"},color:"#000"}}}}}),console.timeEnd("chart_render"),console.groupEnd()}typeof window<"u"&&(window.initializeTotalInnovatorEventChart=b);
