import{C as p,a as x,L as B,b as P,B as k,p as v,c as I,f as T,e as D,P as E,d as C}from"./chartjs-plugin-datalabels.esm-766c20d8.js";const c=n=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n);p.register(x,B,P,k,v,I,T,D,E,C);const f=async n=>{const a=new Array(n.length);return await Promise.all(n.map((l,o)=>new Promise((i,r)=>{const t=new Image;t.crossOrigin="anonymous",t.src=l,t.onload=()=>{a[o]=t,i()},t.onerror=r}))),a},y=(n,{offset:a=50,imgWidth:l=30,axis:o="y"}={})=>({id:"customImagePlugin_"+Math.random().toString(36).slice(2),afterDraw:i=>{const{ctx:r,chartArea:t,scales:e}=i,s=o==="y"?e.y:e.x;!s||!n||i.data.labels.forEach((d,g)=>{const b=s.getPixelForTick(g),h=t.left-a,u=n[g];if(!u)return;const w=u.width/u.height,m=l/w;r.drawImage(u,h,b-m/2,l,m)})}});document.addEventListener("DOMContentLoaded",async()=>{const n=document.getElementById("total-benefit-chart");if(!n||!window.chartDataTotalBenefit)return;const a=window.chartDataTotalBenefit,l=a.isSuperadmin?"bar":"line",o=a.labels.map((t,e)=>({label:t,logo:a.logos[e],values:a.datasets.map(s=>s.data[e]??0)})).sort((t,e)=>(e.values[0]||0)-(t.values[0]||0));a.labels=o.map(t=>t.label),a.logos=o.map(t=>t.logo),a.datasets.forEach((t,e)=>{t.data=o.map(s=>s.values[e]??0)});const i=await f(a.logos),r=y(i,{offset:50,imgWidth:30,axis:"y"});new p(n.getContext("2d"),{type:l,data:{labels:a.labels,datasets:a.datasets},options:{responsive:!0,maintainAspectRatio:!1,indexAxis:"y",layout:{padding:{left:50}},plugins:{legend:{position:"top"},title:{display:!0,text:"Total Benefit Finansial (Tahun Ini)"},datalabels:{display:!0,color:"black",align:"end",anchor:"center",formatter:t=>c(t),font:{weight:"bold",size:12}},tooltip:{callbacks:{label:t=>c(t.raw)}}},scales:{y:{ticks:{display:!a.isSuperadmin}},x:{title:{display:!0,text:"Benefit Finansial"},beginAtZero:!0,ticks:{callback:t=>c(t)}}}},plugins:[r]})});document.addEventListener("DOMContentLoaded",async()=>{const n=document.getElementById("total-potential-benefit-chart");if(!n||!window.chartDataTotalPotentialBenefit)return;const a=window.chartDataTotalPotentialBenefit,l=a.isSuperadmin?"bar":"line",o=a.labels.map((t,e)=>({label:t,logo:a.logos[e],values:a.datasets.map(s=>s.data[e]??0)})).sort((t,e)=>e.values.reduce((s,d)=>s+d,0)-t.values.reduce((s,d)=>s+d,0));a.labels=o.map(t=>t.label),a.logos=o.map(t=>t.logo),a.datasets.forEach((t,e)=>{t.data=o.map(s=>s.values[e]??0)});const i=await f(a.logos),r=y(i,{offset:50,imgWidth:30,axis:a.isSuperadmin?"y":"x"});new p(n.getContext("2d"),{type:l,data:{labels:a.labels,datasets:a.datasets},options:{responsive:!0,maintainAspectRatio:!1,indexAxis:a.isSuperadmin?"y":"x",layout:{padding:{left:50}},plugins:{legend:{position:"top"},title:{display:!0,text:"Total Potential Benefit (Tahun Ini)"},datalabels:{display:!0,color:"black",align:"end",anchor:"center",formatter:t=>c(t),font:{weight:"bold",size:12}},tooltip:{callbacks:{label:t=>c(t.raw)}}},scales:{y:{ticks:{display:!a.isSuperadmin}},x:{title:{display:!0,text:"Potential Benefit"},beginAtZero:!0,ticks:{callback:t=>c(t)}}}},plugins:[r]})});
